<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="mc-template-page: url('../Resources/MasterPages/OtherTopics.flmsp');">
    <head><title></title>
        <link href="../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1 id="install-swimlane-on-an-embedded-kubernetes-cluster">Install Swimlane on an Embedded Kubernetes Cluster</h1>
        <p>To install Swimlane, you will first need to ensure that you have the necessary server set up to host it.</p>
        <p>See <a href="system-requirements-for-an-embedded-cluster-install/system-requirements-for-an-embedded-cluster-install.htm">System Requirements for an Embedded Cluster Install</a> for information on what you need to install Swimlane into an embedded Kubernetes cluster.</p>
        <p>Once you have the hardware accounted for, you can begin to install Swimlane.</p>
        <h2 id="set-up-access-to-the-swimlane-platform-installer">Set Up Access to the Swimlane Platform Installer</h2>
        <p>To begin installing Swimlane with the Swimlane Platform Installer, you must first set up access to the administrative (admin) console.</p>
        <p>To set up access to the Swimlane Platform Installer:</p>
        <ol>
            <li>
                <p>From a command-line interface, log in as a privileged user to the system that will host your Swimlane Instance.</p>
            </li>
            <li>
                <p>Next, run:<br /></p>
                <MadCap:codeSnippet>
                    <MadCap:codeSnippetCopyButton />
                    <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">curl -sSL https://get.swimlane.io/install | sudo bash -s ha</MadCap:codeSnippetBody>
                </MadCap:codeSnippet>
            </li>
            <p>The installer uses <code>/var/lib/kurl/</code> to store temporary data during the install process. If you need to override this temporary directory path you can add <code>kurl-install-directory=/path/to/dir/</code> as an additional install argument and it will be suffixed with <code>/kurl/</code> and used as the temporary directory that can be removed after installation is complete. The directory must be writable by the user running the install command. The partition this directory exists is required to have 8GB of free space available.</p>
            <p>Here is an example install command that overrides the temporary install data path:</p>
            <MadCap:codeSnippet>
                <MadCap:codeSnippetCopyButton />
                <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">curl -sSL https://get.swimlane.io/install | sudo bash -s ha kurl-install-directory=/path/to/dir/</MadCap:codeSnippetBody>
            </MadCap:codeSnippet>
            <p>The installer runs a series of preflight checks to ensure that the node is ready for installation. If any of the preflight checks fail, the installer exits so that the issues can be resolved. In a non-production environment, you can ignore the failing preflight checks and install anyway. To do this, add <code>host-preflight-ignore</code> as an additional install argument, for example, <br /></p>
            <MadCap:codeSnippet>
                <MadCap:codeSnippetCopyButton />
                <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">curl -sSL https://get.swimlane.io/install | sudo bash -s ha host-preflight-ignore</MadCap:codeSnippetBody>
            </MadCap:codeSnippet>
            <p>If you need to override any installer settings you must specify the installer override patch file with the installer command. See <a href="overriding-installer-settings/overriding-installer-settings.htm">Overriding Installer Settings</a> for more information.</p>
            <p>You may be prompted to disable anything on the system that is incompatible. Respond with <strong>Y</strong> to disable and continue with the installation.</p>
            <p>When prompted to enter the load balancer address use the Kubernetes API load balancer IP/FQDN in lowercase and specify port 6443, for example, <code>foo.bar:6443</code>.</p>
            <p>Be aware that the installation can take 30 minutes or more to complete.</p>
        </ol>
        <ol start="3">
            <li>Once you see the message <code>Installation Complete</code> copy and paste the URL following "Kotsadm:" and the subsequent password. Save the URL and password.</li>
            <p>
                <img src="../Resources/Images/installation_complete.png" alt="" />
            </p>
            <p class="important"><strong>Important!</strong> You will NOT see the password again and will need it to log in to the Swimlane Platform Installer Admin Console. Be careful to save the URL and password! You should also save the username and password provided for the grafana dashboard. Use this command to create a new password, if you did not save or remember the initial one: <code>'kubectl kots reset-password default'</code></p>
        </ol>
        <h2 id="access-the-swimlane-platform-installer-admin-console">Access the Swimlane Platform Installer Admin Console</h2>
        <p>Now you are ready to access the Swimlane Platform Installer from a Chrome browser.</p>
        <p>To access the Swimlane Platform Installer:</p>
        <ol>
            <li>In a Chrome browser window, enter the URL you copied in step 3 above, appended with :8800.</li>
            <p>
                <img src="../Resources/Images/8800_example.png" alt="" />
            </p>
        </ol>
        <ol start="2">
            <li>On HTTPS for UI, enter the Fully Qualified Domain Name (FQDN) for the load balancer, and then click <strong>Upload &amp; Continue</strong>.</li>
            <p>
                <img src="../Resources/Images/https_admin_console.png" alt="" />
            </p>
            <p class="note"><strong>Note:</strong> Input the FQDN of the load balancer.</p>
            <p>You can also upload your private key and SSL certificate. If you skip this dialog it will use a self-signed certificate.</p>
        </ol>
        <ol start="3">
            <li>Next, you are prompted to upload your .yaml license file. Select or drag the file, and then click <strong>Upload license</strong>.</li>
            <p>
                <img src="../Resources/Images/filled_upload_license.png" alt="" />
            </p>
        </ol>
        <ol start="4">
            <li>
                <p>Next, see the <a href="configure-the-swimlane-platform-for-an-embedded-cluster-install.htm">Configure the Swimlane Platform for an Embedded Cluster Install</a> topic to configure and deploy Swimlane.</p>
            </li>
            <li>
                <p>To continue setting up additional nodes to create an HA cluster, continue to <a href="add-additional-nodes-to-create-an-ha-cluster.htm">Add Additional Nodes to Create an HA Cluster</a>.</p>
            </li>
        </ol>
    </body>
</html>