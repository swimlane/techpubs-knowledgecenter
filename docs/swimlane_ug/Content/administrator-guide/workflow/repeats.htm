<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="mc-template-page: url('../../Resources/MasterPages/OtherTopics.flmsp');">
    <head><title></title>
        <link href="../../Resources/Stylesheets/MainStyles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1 id="repeats">Repeats</h1>
        <p>Repeats iterate over a Text List, Numeric List, Grid, or Multi-select Reference field and perform an action for each value in the list or array of data. You can adjust the Repeat to filter the values within the list field.</p>
        <p class="note"><strong>Note:</strong> Repeat workflow <em>only</em> works with Text List, Numeric List, and Grid or Multi-select Reference fields.</p>
        <p>
            <img src="../../Resources/Images/repeat_workflow.png" alt="" />
        </p>
        <p>Including a Repeat workflow requires that you've also set up an integration task that uses the list or reference field as an input value. The input value is the action that is run against the record using each value in the List field.</p>
        <p>For more information about setting up integration tasks, see <a href="../integrations/create-or-edit-a-task.htm">Create or Edit a Task</a>.</p>
        <p>A branch of workflow that includes repeat will first begin with a condition, then a repeat, and then an action which must trigger an integration.</p>
        <p>Take the following scenario as an example of how you can utilize repeat workflow functionality:</p>
        <ul>
            <li>Your application has a Text List field set up that contains multiple URLs as values.</li>
            <li>When saving a new record, you want to be able to ping each of the URLs and receive information back about them.</li>
            <li>You want the record to store the information that comes back about each of the URLs.</li>
        </ul>
        <p>Here is one way you can realize this scenario:</p>
        <ol>
            <li>
                <p>Create a Powershell integration task. From the Configuration tab, include the script and input parameter variable seen here:</p>
                <p>
                    <img src="../../Resources/Images/input_config_variable.png" alt="" />
                </p>
                <p>In this application, the List of URLs field is a Text List field.</p>
            </li>
            <li>
                <p>Access your application and ensure that you have the Text List field set up and that it contains, or is set up to receive, the list of values you need (for this scenario, the values are URLs).</p>
                <p>You can manually enter the values, or setup a task and output mapping to produce the values in the Text List field.</p>
            </li>
            <li>
                <p>Create another Text list field, Output, to serve as a container for the information you receive back from pinging the URLs.</p>
                <p>
                    <img src="../../Resources/Images/url_lookups.png" alt="" />
                </p>
            </li>
            <li>
                <p>Access workflow within Application Builder and create a new Condition, Repeat, and Trigger Integration Action.</p>
                <p>
                    <img src="../../Resources/Images/repeat_branch.png" alt="" />
                </p>
            </li>
            <li>
                <p>Configure the workflow properties for each stage.</p>
                <p>Condition properties for this scenario:</p>
                <p>
                    <img src="../../Resources/Images/condition_props.png" alt="" />
                </p>
                <p>Repeat properties for this scenario:</p>
                <p>
                    <img src="../../Resources/Images/repeat_props.png" alt="" />
                </p>
                <p>Action (Integration Task) properties for this scenario:</p>
                <p>
                    <img src="../../Resources/Images/action_props.png" alt="" />
                </p>
            </li>
            <li>
                <p>Make sure that you have set up the integration task output mappings to handle the data coming in and out of the task (output mapping to the Output field). See <a href="../integrations/configure-task-input.htm">Configure Task Input</a> and <a href="../integrations/configure-task-output/configure-task-output.htm">Configure Task Output</a> for more information.</p>
                <p>Output mapping for this scenario:</p>
                <p>
                    <img src="../../Resources/Images/output_map_append.png" alt="" />
                </p>
                <p><strong>Note:</strong> Select <strong>Append</strong> as an insertion method if you want to retain the list in the Output field and append to it with new data as the repeat actions are run.</p>
            </li>
            <p>Now, when you access a record for this application, you will trigger the repeat and the integration by the initial save of the record.</p>
            <p>
                <img src="../../Resources/Images/repeat_record_view.png" alt="" />
            </p>
        </ol>
    </body>
</html>